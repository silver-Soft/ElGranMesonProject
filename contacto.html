<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElGranMeson</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=PT+Sans:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <header class="headerNo">

        <div class="contenedor">
            <div class="barra_black">
                <a class="logo" href="index.html">
                    <h1 class="logo__nombre no-margin centrar-texto">El gran<span class="logo__bold">Mesón</span></h1>
                </a>

                <nav class="navegacion">
                    <a href="nosotros.html" class="navegacion__enlace">Nosotros</a>
                    <a href="cafeteria.html" class="navegacion__enlace">Cafetería</a>
                    <a href="contacto.html" class="navegacion__enlace">Contacto</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="contenedor">
        <h3 class="centrar-texto subtitle_noindex">Contacto</h3>

        <div class="contacto-bg"></div>

        <form class="formulario" id="contact-form">
            <div class="campo">
                <label class="campo__label" for="nombre">Nombre</label>
                <input class="campo__field" type="text" placeholder="Tu Nombre" id="nombre" name="nombre" required />
            </div>
            <div class="campo">
                <label class="campo__label" for="email">E-mail</label>
                <input class="campo__field" type="email" placeholder="Tu E-mail" id="email" name="email" required />
            </div>
            <div class="campo">
                <label class="campo__label" for="mensaje">Mensaje</label>
                <textarea class="campo__field campo__field--textarea" id="mensaje" name="mensaje" required></textarea>
            </div>
        
            <input type="hidden" id="time" name="time" />
        
            <div class="campo" style="justify-content: center;">
                <input type="submit" value="Enviar" class="boton boton--primario" id="button" />
            </div>
        </form>
        
    </main>

    <footer class="footer">
        <div class="contenedor">
            <div class="barra">
                <a class="logo" href="index.html">
                    <h1 class="logo__nombre no-margin centrar-texto">El gran <span class="logo__bold">Mesón</span></h1>
                </a>

                <nav class="navegacion">
                    <a href="nosotros.html" class="navegacion__enlace">Nosotros</a>
                    <a href="cafeteria.html" class="navegacion__enlace">Caferería</a>
                    <a href="contacto.html" class="navegacion__enlace">Contacto</a>
                </nav>
            </div>
        </div>
    </footer>

    <script src="js/modernizr.js"></script>

    <!-- EmailJS SDK -->
    <!-- Incluye el SDK de EmailJS -->
<!-- SDK de EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>
  // Inicializar EmailJS
  emailjs.init("XRViQiF9SPwiopCIl"); // Reemplaza con tu public key

  // Escuchar el evento del formulario
  document.getElementById('contact-form').addEventListener('submit', function (e) {
    e.preventDefault();

    // Establece el campo time antes de enviar
    document.getElementById('time').value = new Date().toLocaleString();

    const btn = document.getElementById('button');
    btn.value = 'Enviando...';

    const serviceID = 'service_citgzoc';
    const templateID = 'template_gpuifks';

    emailjs.sendForm(serviceID, templateID, this)
      .then(() => {
        btn.value = 'Enviar';
        alert('Mensaje enviado con éxito.');
        this.reset();
      }, (err) => {
        btn.value = 'Enviar';
        alert('Error al enviar el mensaje.');
        console.error('EmailJS Error:', err);
      });
  });
</script>


</body>
</html>
